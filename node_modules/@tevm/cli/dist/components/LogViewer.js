import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Box, Text, useInput } from 'ink';
import { useLogStore } from '../stores/logStore.js';
const LogViewer = ({ interactive = false }) => {
    const { logs, clearLogs } = useLogStore();
    // Handle keyboard input when in interactive mode
    useInput((input) => {
        if (interactive && input === 'c') {
            clearLogs();
        }
    });
    return (_jsxs(Box, { flexDirection: "column", padding: 1, children: [_jsxs(Box, { justifyContent: "space-between", marginBottom: 1, children: [_jsx(Text, { bold: true, children: "JSON-RPC Logs" }), interactive && _jsx(Text, { children: "Press 'c' to clear logs" })] }), logs.length === 0 ? (_jsx(Text, { children: "No logs yet..." })) : (_jsx(Box, { flexDirection: "column", children: logs.map((log) => (_jsxs(Box, { flexDirection: "column", marginBottom: 1, children: [_jsxs(Box, { children: [_jsxs(Text, { color: "gray", children: ["[", log.timestamp, "] "] }), _jsx(Text, { color: log.type === 'request' ? 'blue' : log.type === 'response' ? 'green' : 'red', children: log.type === 'request' ? '→ Request' : log.type === 'response' ? '← Response' : '✖ Error' })] }), _jsx(Box, { paddingLeft: 2, children: _jsx(Text, { wrap: "wrap", children: log.content }) })] }, log.id))) }))] }));
};
export default LogViewer;
