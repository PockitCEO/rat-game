import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Box, Text } from 'ink';
import Spinner from 'ink-spinner';
export default function CliAction({ formattedResult, isInteractiveLoading, isActionLoading, isInstallingDeps, interactiveError, actionError, targetName, editorActive = false, }) {
    // If editor is active, render absolutely nothing
    if (editorActive) {
        return null;
    }
    // Priority 1: Show dependency installation
    if (isInstallingDeps) {
        return (_jsx(Box, { children: _jsxs(Text, { children: [_jsx(Spinner, { type: "dots" }), " Installing dependencies..."] }) }));
    }
    // Priority 2: Show loading state
    if (isInteractiveLoading || isActionLoading) {
        return (_jsx(Box, { children: _jsxs(Text, { children: [_jsx(Spinner, { type: "dots" }), " ", isActionLoading && targetName ? `Processing ${targetName}...` : 'Processing...'] }) }));
    }
    // Priority 3: Show errors if present
    if (interactiveError || actionError) {
        const error = interactiveError || actionError;
        return (_jsx(Box, { children: _jsx(Text, { color: "red", children: error.message || 'An error occurred' }) }));
    }
    // Priority 4: Show just the result
    if (formattedResult) {
        return (_jsx(Box, { children: _jsx(Text, { children: formattedResult }) }));
    }
    // Fallback (should rarely happen)
    return null;
}
