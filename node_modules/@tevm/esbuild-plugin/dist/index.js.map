{"version":3,"sources":["../src/esbuildPluginTevm.js"],"names":[],"mappings":";;;AAgHO,IAAM,iBAAA,GAAoB,cAAA,CAAe,YAAY,CAAA,CAAE","file":"index.js","sourcesContent":["import { createUnplugin, tevmUnplugin } from '@tevm/unplugin'\n\n/**\n * Creates an esbuild plugin for Tevm that enables direct Solidity imports in JavaScript\n * and TypeScript code.\n *\n * This plugin integrates with esbuild to transform imports of .sol files into JavaScript\n * modules that export Tevm Contract instances. These instances include the contract's ABI,\n * bytecode, and type information, allowing you to interact with them in a type-safe way.\n *\n * @returns {import('esbuild').Plugin} An esbuild plugin that handles Solidity imports\n *\n * @example\n * #### Basic Configuration\n *\n * Add the plugin to your esbuild configuration:\n *\n * ```javascript\n * // esbuild.config.js\n * import { esbuildPluginTevm } from '@tevm/esbuild'\n * import { build } from 'esbuild'\n *\n * build({\n *   entryPoints: ['src/index.js'],\n *   outdir: 'dist',\n *   bundle: true,\n *   plugins: [esbuildPluginTevm()],\n * })\n * ```\n *\n * #### TypeScript Configuration\n *\n * For full TypeScript support including editor integration, add the Tevm TypeScript plugin\n * to your tsconfig.json:\n *\n * ```json\n * {\n *   \"compilerOptions\": {\n *     \"plugins\": [{ \"name\": \"tevm/ts-plugin\" }]\n *   }\n * }\n * ```\n *\n * #### Using Imported Contracts\n *\n * Once configured, you can import Solidity files directly and use them with full type safety:\n *\n * ```typescript\n * // Import a Solidity contract directly\n * import { ERC20 } from '@openzeppelin/contracts/token/ERC20/ERC20.sol'\n * import { createMemoryClient } from 'tevm'\n *\n * // Access contract metadata\n * console.log('ABI:', ERC20.abi)\n * console.log('Human-readable ABI:', ERC20.humanReadableAbi)\n * console.log('Bytecode:', ERC20.bytecode)\n *\n * // Deploy and interact with the contract\n * const client = createMemoryClient()\n *\n * // Deploy contract\n * const deployed = await client.deployContract(ERC20, [\n *   \"My Token\",  // name\n *   \"MTK\"        // symbol\n * ])\n *\n * // Call contract methods with type safety\n * const name = await deployed.read.name()\n * const totalSupply = await deployed.read.totalSupply()\n *\n * // Write operations\n * const tx = await deployed.write.transfer(\n *   \"0x70997970C51812dc3A010C7d01b50e0d17dc79C8\",\n *   1000n\n * )\n * ```\n *\n * #### How It Works\n *\n * Under the hood, the plugin transforms Solidity imports into JavaScript modules.\n * For example, importing ERC20.sol creates code like:\n *\n * ```typescript\n * import { createContract } from '@tevm/contract'\n *\n * export const ERC20 = createContract({\n *   name: 'ERC20',\n *   humanReadableAbi: [ 'function balanceOf(address): uint256', ... ],\n *   bytecode: '0x...',\n *   deployedBytecode: '0x...',\n * })\n * ```\n *\n * #### Custom Configuration\n *\n * For custom configuration of the Tevm compiler, add a `tevm.config.json` file to your project root:\n *\n * ```json\n * {\n *   \"foundryProject\": true,       // Is this a Foundry project?\n *   \"libs\": [\"lib\"],              // Library directories\n *   \"remappings\": {               // Import remappings (like in Foundry)\n *     \"foo\": \"vendored/foo\"\n *   },\n *   \"debug\": true,                // Enable debug logging\n *   \"cacheDir\": \".tevm\"           // Cache directory\n * }\n * ```\n *\n * @see {@link https://tevm.sh/learn/solidity-imports | Tevm Solidity Import Documentation}\n * @see {@link https://esbuild.github.io/plugins/ | esbuild Plugins Documentation}\n */\nexport const esbuildPluginTevm = createUnplugin(tevmUnplugin).esbuild\n"]}