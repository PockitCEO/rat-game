{"version":3,"sources":["../src/tevmTransport.js","../src/testAccounts.js","../src/tevmViemExtension.js","../src/tevmViemExtensionOptimistic.js"],"names":["gasPrice"],"mappings":"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","file":"index.js","sourcesContent":["import { createTransport } from 'viem'\n\n/**\n * @param {Pick<import('@tevm/decorators').Eip1193RequestProvider, 'request'>|Pick<import('@tevm/memory-client').MemoryClient, 'request'>} tevm The Tevm instance\n * @param {Pick<import('viem').TransportConfig, 'name' | 'key' | 'timeout' | 'retryCount' | 'retryDelay'>} [options]\n * @returns {import('viem').Transport} The transport function\n */\nexport const tevmTransport = ({ request }, options) => {\n\treturn () => {\n\t\treturn createTransport({\n\t\t\trequest: /** @type any*/ (request),\n\t\t\ttype: 'tevm',\n\t\t\tname: options?.name ?? 'Tevm transport',\n\t\t\tkey: options?.key ?? 'tevm',\n\t\t\ttimeout: options?.timeout ?? 20_000,\n\t\t\tretryCount: options?.retryCount ?? 3,\n\t\t\tretryDelay: options?.retryDelay ?? 150,\n\t\t})\n\t}\n}\n","import { mnemonicToAccount } from 'viem/accounts'\n\nconst oneToTen = Array.from(Array(10).keys())\n\nexport const mnemonic = 'test test test test test test test test test test test junk'\n\n// This is copy pasted from actions package\nexport const testAccounts =\n\t/**\n\t * @type {[import(\"viem\").HDAccount, import(\"viem\").HDAccount,import(\"viem\").HDAccount, import(\"viem\").HDAccount,import(\"viem\").HDAccount, import(\"viem\").HDAccount,import(\"viem\").HDAccount, import(\"viem\").HDAccount,import(\"viem\").HDAccount, import(\"viem\").HDAccount]}\n\t */\n\t(oneToTen.map((i) => mnemonicToAccount(mnemonic, { addressIndex: i })))\n","import { decodeFunctionResult, encodeFunctionData, hexToBigInt, numberToHex } from 'viem'\nimport { testAccounts } from './testAccounts.js'\n\n/**\n * @param {import('@tevm/actions').BlockParam|undefined} blockTag\n * @returns {import('@tevm/actions').BlockTag | import('@tevm/actions').Hex}\n */\nconst formatBlockTag = (blockTag) => {\n\tif (blockTag === undefined) {\n\t\treturn 'pending'\n\t}\n\tif (typeof blockTag === 'bigint') {\n\t\treturn numberToHex(blockTag)\n\t}\n\treturn blockTag\n}\n\n/**\n * Decorates a viem [public client](https://viem.sh/) with the [tevm api](https://tevm.sh/generated/tevm/api/type-aliases/tevm/)\n * @type {import('./ViemTevmExtension.js').ViemTevmExtension}\n * @example\n * ```js\n * import { createClient, parseEth } from 'viem'\n * import { tevmViemExtension } from '@tevm/viem-extension'\n *\n * const client = createClient('https://mainnet.optimism.io')\n *   .extend(tevmViemExtension())\n *\n * await client.transport.tevm.account({\n *   address: `0x${'12'.repeat(20)}`,\n *   balance: parseEth('420'),\n * })\n * ```\n * @see [@tevm/server](https://tevm.sh/generated/tevm/server/functions/createserver) for documentation on creating a tevm backend\n */\nexport const tevmViemExtension = () => {\n\treturn (client) => {\n\t\t/**\n\t\t * @param {import('@tevm/jsonrpc').JsonRpcResponse<any, any, any>} response\n\t\t * @returns {any}\n\t\t */\n\t\tconst formatResult = (response) => {\n\t\t\tif ('error' in response) {\n\t\t\t\treturn {\n\t\t\t\t\terrors: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_tag: response.error.code,\n\t\t\t\t\t\t\tname: response.error.code,\n\t\t\t\t\t\t\tmessage: response.error.message,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn response.result\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/client-types').TevmClient['request']}\n\t\t */\n\t\tconst request = async (req) => {\n\t\t\ttry {\n\t\t\t\tconst result = await client.request(/** @type any*/ (req))\n\t\t\t\treturn /** @type any */ ({\n\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\tmethod: req.method,\n\t\t\t\t\t...(req.id ? { id: req.id } : {}),\n\t\t\t\t\tresult,\n\t\t\t\t})\n\t\t\t} catch (e) {\n\t\t\t\treturn /** @type any*/ ({\n\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\t...(req.id ? { id: req.id } : {}),\n\t\t\t\t\tmethod: req.method,\n\t\t\t\t\terror: {\n\t\t\t\t\t\tcode: /** @type Error */ (e).name,\n\t\t\t\t\t\tmessage: /** @type {Error}*/ (e).message,\n\t\t\t\t\t},\n\t\t\t\t\terrors: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_tag: /** @type Error */ (e).name,\n\t\t\t\t\t\t\tmessage: /** @type {Error}*/ (e).message,\n\t\t\t\t\t\t\tname: /** @type {Error}*/ (e).name,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/client-types').TevmClient['requestBulk']}\n\t\t */\n\t\tconst requestBulk = async () => {\n\t\t\t// TODO implement this when we refactor the tevm client to using fetch instead of viem\n\t\t\tthrow new Error('Bulk json rpc requests are not yet implemented')\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').GetAccountHandler}\n\t\t */\n\t\tconst getAccount = async (params) => {\n\t\t\treturn formatResult(\n\t\t\t\tawait request({\n\t\t\t\t\tmethod: 'tevm_setAccount',\n\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\tparams: [params],\n\t\t\t\t}),\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').SetAccountHandler}\n\t\t */\n\t\tconst setAccount = async (params) => {\n\t\t\treturn formatResult(\n\t\t\t\tawait request({\n\t\t\t\t\tmethod: 'tevm_setAccount',\n\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\tparams: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taddress: params.address,\n\t\t\t\t\t\t\t...(params.balance ? { balance: numberToHex(params.balance) } : {}),\n\t\t\t\t\t\t\t...(params.nonce ? { nonce: numberToHex(params.nonce) } : {}),\n\t\t\t\t\t\t\t...(params.storageRoot ? { storageRoot: params.storageRoot } : {}),\n\t\t\t\t\t\t\t...(params.deployedBytecode ? { deployedBytecode: params.deployedBytecode } : {}),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @param {import('@tevm/actions').CallParams} params\n\t\t */\n\t\tconst getCallArgs = (params) => {\n\t\t\treturn {\n\t\t\t\t...(params.code ? { code: params.code } : {}),\n\t\t\t\t...(params.blobVersionedHashes ? { blobVersionedHashes: params.blobVersionedHashes } : {}),\n\t\t\t\t...(params.caller ? { caller: params.caller } : {}),\n\t\t\t\t...('data' in params && params.data ? { data: params.data } : {}),\n\t\t\t\t...(params.depth ? { depth: params.depth } : {}),\n\t\t\t\t...(params.gas ? { gas: numberToHex(params.gas) } : {}),\n\t\t\t\t...(params.gasPrice ? { gasPrice: numberToHex(params.gasPrice) } : {}),\n\t\t\t\t...(params.gasRefund ? { gasRefund: numberToHex(params.gasRefund) } : {}),\n\t\t\t\t...(params.origin ? { origin: params.origin } : {}),\n\t\t\t\t...('salt' in params && params.salt ? { salt: params.salt } : {}),\n\t\t\t\t...(params.selfdestruct ? { selfdestruct: [...params.selfdestruct] } : {}),\n\t\t\t\t...(params.skipBalance ? { skipBalance: params.skipBalance } : {}),\n\t\t\t\t...(params.blockTag ? { blockTag: formatBlockTag(params.blockTag) } : {}),\n\t\t\t\t...(params.to ? { to: params.to } : {}),\n\t\t\t\t...(params.value ? { value: numberToHex(params.value) } : {}),\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').CallHandler}\n\t\t */\n\t\tconst call = async (params) => {\n\t\t\tconst response = await request({\n\t\t\t\tmethod: 'tevm_call',\n\t\t\t\tjsonrpc: '2.0',\n\t\t\t\tparams: [getCallArgs(params)],\n\t\t\t})\n\t\t\tif ('error' in response) {\n\t\t\t\t// TODO make this type match\n\t\t\t\treturn /** @type any*/ ({\n\t\t\t\t\terrors: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_tag: response.error.code,\n\t\t\t\t\t\t\tmessage: response.error.message,\n\t\t\t\t\t\t\tname: response.error.code,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn parseCallResponse(response)\n\t\t}\n\n\t\t/**\n\t\t * @param {import('@tevm/actions').CallJsonRpcResponse} response\n\t\t */\n\t\tconst parseCallResponse = (response) => {\n\t\t\tif ('error' in response) {\n\t\t\t\tconsole.error(response.error)\n\t\t\t\tthrow new Error('No result in response')\n\t\t\t}\n\t\t\tconst { result } = response\n\t\t\treturn {\n\t\t\t\texecutionGasUsed: hexToBigInt(result.executionGasUsed),\n\t\t\t\trawData: result.rawData,\n\t\t\t\t...(result.selfdestruct ? { selfdestruct: new Set(result.selfdestruct) } : {}),\n\t\t\t\t...(result.gasRefund ? { gasRefund: hexToBigInt(result.gasRefund) } : {}),\n\t\t\t\t...(result.gas ? { gas: hexToBigInt(result.gas) } : {}),\n\t\t\t\t...(result.logs ? { logs: result.logs } : {}),\n\t\t\t\t...(result.blobGasUsed ? { blobGasUsed: hexToBigInt(result.blobGasUsed) } : {}),\n\t\t\t\t...(result.createdAddress ? { createdAddress: result.createdAddress } : {}),\n\t\t\t\t...(result.createdAddresses ? { createdAddresses: new Set(result.createdAddresses) } : {}),\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').ContractHandler}\n\t\t */\n\t\tconst contract = async (params) => {\n\t\t\tconst out = await call({\n\t\t\t\t...params,\n\t\t\t\tdata: encodeFunctionData(\n\t\t\t\t\t/** @type any*/ ({\n\t\t\t\t\t\tabi: params.abi,\n\t\t\t\t\t\tfunctionName: params.functionName,\n\t\t\t\t\t\targs: params.args,\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t})\n\t\t\t/**\n\t\t\t * @type {any}\n\t\t\t */\n\t\t\tlet data\n\t\t\ttry {\n\t\t\t\tdata = decodeFunctionResult(\n\t\t\t\t\t/** @type any*/ ({\n\t\t\t\t\t\tdata: out.rawData,\n\t\t\t\t\t\tabi: params.abi,\n\t\t\t\t\t\tfunctionName: params.functionName,\n\t\t\t\t\t\targs: params.args,\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t} catch (e) {\n\t\t\t\tif (out.rawData === '0x') {\n\t\t\t\t\tconsole.error('UnexpectedError: data is 0x')\n\t\t\t\t}\n\t\t\t\tthrow e\n\t\t\t}\n\t\t\treturn /** @type any*/ ({\n\t\t\t\t...out,\n\t\t\t\trawData: out.rawData,\n\t\t\t\tdata: /**@type any*/ (data),\n\t\t\t})\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').EthBlockNumberHandler}\n\t\t */\n\t\tconst blockNumber = async () => {\n\t\t\treturn hexToBigInt(\n\t\t\t\tformatResult(\n\t\t\t\t\tawait request({\n\t\t\t\t\t\tmethod: 'eth_blockNumber',\n\t\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\t\tparams: [],\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').EthCallHandler}\n\t\t */\n\t\tconst ethCall = async ({ blockTag = 'latest', to, gas, data, from = `0x${'0'.repeat(40)}`, value, gasPrice }) => {\n\t\t\treturn /** @type {any} */ (\n\t\t\t\tformatResult(\n\t\t\t\t\tawait request({\n\t\t\t\t\t\tmethod: 'eth_call',\n\t\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\t\tparams: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfrom,\n\t\t\t\t\t\t\t\t...(gas ? { gas: numberToHex(gas) } : {}),\n\t\t\t\t\t\t\t\t...(gasPrice ? { gasPrice: numberToHex(gasPrice) } : {}),\n\t\t\t\t\t\t\t\t...(to ? { to } : {}),\n\t\t\t\t\t\t\t\t...(value ? { value: numberToHex(value) } : {}),\n\t\t\t\t\t\t\t\t...(data ? { data } : {}),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tformatBlockTag(blockTag),\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').DumpStateHandler}\n\t\t */\n\t\tconst dumpState = async () => {\n\t\t\treturn /** @type {any} */ (\n\t\t\t\tformatResult(\n\t\t\t\t\tawait request({\n\t\t\t\t\t\tmethod: 'tevm_dumpState',\n\t\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\t\tparams: [],\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').EthChainIdHandler}\n\t\t */\n\t\tconst chainId = async () => {\n\t\t\treturn hexToBigInt(\n\t\t\t\tformatResult(\n\t\t\t\t\tawait request({\n\t\t\t\t\t\tmethod: 'eth_chainId',\n\t\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\t\tparams: [],\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').LoadStateHandler}\n\t\t */\n\t\tconst loadState = async (params) => {\n\t\t\treturn /** @type {any} */ (\n\t\t\t\tformatResult(\n\t\t\t\t\tawait request({\n\t\t\t\t\t\tmethod: 'tevm_loadState',\n\t\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\t\tparams: [{ state: params.state }],\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t\t/**\n\t\t * @type {import('@tevm/actions').EthGasPriceHandler}\n\t\t */\n\t\tconst gasPrice = async () => {\n\t\t\treturn hexToBigInt(\n\t\t\t\tformatResult(\n\t\t\t\t\tawait request({\n\t\t\t\t\t\tmethod: 'eth_gasPrice',\n\t\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\t\tparams: [],\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').EthGetBalanceHandler}\n\t\t */\n\t\tconst getBalance = async (params) => {\n\t\t\treturn hexToBigInt(\n\t\t\t\tformatResult(\n\t\t\t\t\tawait request({\n\t\t\t\t\t\tmethod: 'eth_getBalance',\n\t\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\t\tparams: [params.address, formatBlockTag(params.blockTag)],\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').EthGetCodeHandler}\n\t\t */\n\t\tconst getCode = async (params) => {\n\t\t\treturn /** @type {any} */ (\n\t\t\t\tformatResult(\n\t\t\t\t\tawait request({\n\t\t\t\t\t\tmethod: 'eth_getCode',\n\t\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\t\tparams: [params.address, formatBlockTag(params.blockTag)],\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @type {import('@tevm/actions').EthGetStorageAtHandler}\n\t\t */\n\t\tconst getStorageAt = async (params) => {\n\t\t\treturn /** @type {any} */ (\n\t\t\t\tformatResult(\n\t\t\t\t\tawait request({\n\t\t\t\t\t\tmethod: 'eth_getStorageAt',\n\t\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\t\tparams: [params.address, params.position, formatBlockTag(params.blockTag)],\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\n\t\treturn {\n\t\t\ttevm: {\n\t\t\t\teth: {\n\t\t\t\t\tcall: ethCall,\n\t\t\t\t\tblockNumber,\n\t\t\t\t\tchainId,\n\t\t\t\t\tgasPrice,\n\t\t\t\t\tgetBalance,\n\t\t\t\t\tgetCode,\n\t\t\t\t\tgetStorageAt,\n\t\t\t\t},\n\t\t\t\taccounts: testAccounts,\n\t\t\t\trequest,\n\t\t\t\trequestBulk,\n\t\t\t\tgetAccount,\n\t\t\t\tsetAccount,\n\t\t\t\tcall,\n\t\t\t\tcontract,\n\t\t\t\tdumpState,\n\t\t\t\tloadState,\n\t\t\t},\n\t\t}\n\t}\n}\n","import { waitForTransactionReceipt } from 'viem/actions'\nimport { tevmViemExtension } from './tevmViemExtension.js'\n\n// TODO handle the transaction reverting\n/**\n * @deprecated Viem is built into the tevm memory client now without needing this\n * @experimental\n * This extension is highly experimental and should not be used in production.\n *\n * Creates a decorator to a viem wallet client that adds the `writeContractOptimistic` method to the `tevm` property.\n * It also decorates all the normal `tevm` methods from the [Tevm api](https://tevm.sh/generated/tevm/api/type-aliases/tevm/)\n * This enables viem to optimistically update the tevm state before the transaction is mined.\n * @example\n * ```ts\n * import { tevmViemExtensionOptimistic } from 'tevmViemExtensionOptimistic'\n * import { walletClient } from './walletClient.js'\n *\n * const client = walletClient.extend(tevmViemExtensionOptimistic())\n *\n * for (const result of client.transport.tevm.writeContractOptimistic({\n *   from: '0x...',\n *   to: '0x...',\n *   abi: [...],\n *   functionName: 'transferFrom',\n *   args: ['0x...', '0x...', '1000000000000000000'],\n * })) {\n *\tif (result.tag === 'OPTIMISTIC_RESULT') {\n *\t\texpect(result).toEqual({\n *\t\t\tdata: mockRequestResponse as any,\n *\t\t\tsuccess: true,\n *\t\t\ttag: 'OPTIMISTIC_RESULT',\n *\t\t})\n *\t\texpect((client.request as jest.Mock).mock.lastCall[0]).toEqual({\n *\t\t\tmethod: 'tevm_contract',\n          params: params,\n *\t\t\tjsonrpc: '2.0',\n *\t\t})\n *\t\texpect((client.writeContract as jest.Mock).mock.lastCall[0]).toEqual({\n *\t\t\tabi: params.abi,\n *\t\t\tfunctionName: params.functionName,\n *\t\t\targs: params.args,\n *\t\t\tcaller: params.caller,\n *\t\t\taddress: params.address,\n *\t\t\taccount: params.account,\n *\t\t\tchain: params.chain,\n *\t\t})\n *\t} else if (result.tag === 'HASH') {\n *\t\texpect(result).toEqual({\n *\t\t\tdata: mockWriteContractResponse,\n *\t\t\tsuccess: true,\n *\t\t\ttag: 'HASH',\n *\t\t})\n *\t} else if (result.tag === 'RECEIPT') {\n *\t\texpect(result).toEqual({\n *\t\t\tdata: mockTxReciept,\n *\t\t\tsuccess: true,\n *\t\t\ttag: 'RECEIPT',\n *\t\t})\n *\t\texpect(mockWaitForTransactionReceipt.mock.lastCall[0]).toEqual(client)\n *\t\texpect(mockWaitForTransactionReceipt.mock.lastCall[1]).toEqual({\n *\t\t\thash: mockWriteContractResponse,\n *\t\t})\n *\t}\n * }\n */\nexport const tevmViemExtensionOptimistic = () => {\n\t/**\n\t * @type {import('./ViemTevmOptimisticClientDecorator.js').ViemTevmOptimisticClientDecorator}\n\t */\n\tconst decorator = (client) => {\n\t\tconst tevmClient = tevmViemExtension()(client)\n\t\t/**\n\t\t * @type {import(\"./ViemTevmOptimisticClient.js\").ViemTevmOptimisticClient['tevm']['writeContractOptimistic']}\n\t\t */\n\t\tconst writeContractOptimistic = async function* (action) {\n\t\t\t/**\n\t\t\t * @type {Array<import('./TypedError.js').TypedError<string>>}\n\t\t\t */\n\t\t\tconst errors = []\n\t\t\tconst getErrorsIfExist = () => (errors.length > 0 ? { errors } : {})\n\n\t\t\tconst writeContractResult = client.writeContract(/** @type any*/ (action))\n\t\t\tconst optimisticResult = client.request({\n\t\t\t\tjsonrpc: '2.0',\n\t\t\t\tmethod: /** @type {any}*/ ('tevm_contract'),\n\t\t\t\tparams: /** @type {any}*/ (action),\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tyield {\n\t\t\t\t\tsuccess: true,\n\t\t\t\t\ttag: 'OPTIMISTIC_RESULT',\n\t\t\t\t\tdata: /** @type {any} */ (await optimisticResult),\n\t\t\t\t\t...getErrorsIfExist(),\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\terrors.push(/** @type {any}*/ (error))\n\t\t\t\tyield {\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\ttag: 'OPTIMISTIC_RESULT',\n\t\t\t\t\terror: /** @type {any} */ (error),\n\t\t\t\t\t...getErrorsIfExist(),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * @type {import('viem').Hex | undefined}\n\t\t\t **/\n\t\t\tlet hash\n\t\t\ttry {\n\t\t\t\thash = await writeContractResult\n\t\t\t\tyield {\n\t\t\t\t\tsuccess: true,\n\t\t\t\t\ttag: 'HASH',\n\t\t\t\t\tdata: /** @type {any}*/ (hash),\n\t\t\t\t\t...getErrorsIfExist(),\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\terrors.push(/** @type {any}*/ (error))\n\t\t\t\tyield {\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\ttag: 'HASH',\n\t\t\t\t\terror: /** @type {any}*/ (error),\n\t\t\t\t\t...getErrorsIfExist(),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hash) {\n\t\t\t\ttry {\n\t\t\t\t\tconst receipt = await waitForTransactionReceipt(/** @type{any}*/ (client), { hash })\n\t\t\t\t\tyield {\n\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\ttag: 'RECEIPT',\n\t\t\t\t\t\tdata: /** @type {any} */ (receipt),\n\t\t\t\t\t\t...getErrorsIfExist(),\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\terrors.push(/** @type {any}*/ (error))\n\t\t\t\t\tyield {\n\t\t\t\t\t\tsuccess: false,\n\t\t\t\t\t\ttag: 'RECEIPT',\n\t\t\t\t\t\terror: /** @type {any} */ (error),\n\t\t\t\t\t\terrors,\n\t\t\t\t\t\t...getErrorsIfExist(),\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn\n\t\t}\n\t\treturn {\n\t\t\t...tevmClient,\n\t\t\ttevm: {\n\t\t\t\t...tevmClient.tevm,\n\t\t\t\twriteContractOptimistic: /** @type any */ (writeContractOptimistic),\n\t\t\t},\n\t\t}\n\t}\n\treturn decorator\n}\n"]}